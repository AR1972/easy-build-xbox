//-----------------------------------------------------------------------------
// 名前 : WMAStream Xbox サンプル
// 
// Copyright (c) 2001 Microsoft Corporation. All rights reserved.
//-----------------------------------------------------------------------------


説明
====
WMAStream サンプルでは、別のスレッド上の同期 WMA デコーダ XMO を使用してバックグランド ミュージックを再生する方法を紹介します。このワーカー スレッドは、DirectSound ストリームに完了したパケットがないかどうかを定期的にチェックします。完了したパケットがある場合、WMA デコーダを実行してサウンド データをデコードし、DirectSound ストリームに戻します。
このスレッドは、ほかのデコーダでも使用できることがあります。


必要なファイルとメディア
========================
このサンプルを実行する前に、メディア ツリーをターゲット マシンにコピーします。


プログラミング上の注意
======================
WMA デコーダが非同期に動作する場合、デコーダは独自のスレッドを作成し、その上で動作します。このような処理が同時に複数行われると、大きなオーバーヘッドになる場合があるので、タイトル側でタイトル独自のスレッドを作成し、デコーダの処理は手動でコントロールするという方法が良い場合もあります。  
このサンプルでは、パケットをデコードして DirectSound ストリームに渡すスレッドを作成しています。処理実行の頻度は、ストリームに 1 回で送られるデータの量で決まります。ストリームにデータがなくならないような頻度で処理する必要があります。
